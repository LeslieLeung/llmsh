# llmsh

[English](README.md) | ç®€ä½“ä¸­æ–‡

ä¸€ä¸ªæ™ºèƒ½çš„ ZSH æ’ä»¶ï¼Œä½¿ç”¨å¤§è¯­è¨€æ¨¡åž‹ï¼ˆLLMï¼‰æä¾› AI é©±åŠ¨çš„å‘½ä»¤é¢„æµ‹å’Œè‡ªç„¶è¯­è¨€åˆ°å‘½ä»¤çš„è½¬æ¢åŠŸèƒ½ã€‚

> ðŸ“– è¯¦ç»†ä½¿ç”¨è¯´æ˜Žå’Œæ•…éšœæŽ’é™¤ï¼Œè¯·å‚è§ [USAGE.zh-CN.md](USAGE.zh-CN.md)
> ðŸ‘¨â€ðŸ’» å¼€å‘å’Œè´¡çŒ®æŒ‡å—ï¼Œè¯·å‚è§ [DEVELOPMENT.zh-CN.md](DEVELOPMENT.zh-CN.md)

## åŠŸèƒ½ç‰¹æ€§

### è‡ªç„¶è¯­è¨€è½¬å‘½ä»¤
- **Alt+Enter**ï¼šå°†è‡ªç„¶è¯­è¨€æè¿°è½¬æ¢ä¸º shell å‘½ä»¤
- ç”¨ç®€å•çš„ä¸­æ–‡æˆ–è‹±æ–‡æè¿°ä½ æƒ³åšä»€ä¹ˆï¼ŒæŒ‰ Alt+Enterï¼Œå³å¯èŽ·å¾—ç›¸åº”å‘½ä»¤
- ç¤ºä¾‹ï¼šè¾“å…¥ "åˆ—å‡ºè¿‡åŽ»24å°æ—¶å†…ä¿®æ”¹çš„æ‰€æœ‰æ–‡ä»¶" â†’ `find . -type f -mtime -1`

### æ™ºèƒ½è¡¥å…¨/é¢„æµ‹
- **Ctrl+O**ï¼šåŸºäºŽä¸Šä¸‹æ–‡æ™ºèƒ½è¡¥å…¨æˆ–é¢„æµ‹
  - **ç©ºç¼“å†²åŒºæ—¶**ï¼šåŸºäºŽåŽ†å²è®°å½•é¢„æµ‹ä¸‹ä¸€æ¡å‘½ä»¤
  - **æœ‰æ–‡æœ¬æ—¶**ï¼šè¡¥å…¨å½“å‰çš„éƒ¨åˆ†å‘½ä»¤
- ä½¿ç”¨å‘½ä»¤åŽ†å²ã€å½“å‰ç›®å½•å’Œ git åˆ†æ”¯ä¿¡æ¯ä½œä¸ºä¸Šä¸‹æ–‡

### ä½¿ç”¨æƒ…å†µè¿½è¸ª
- æŒ‰æä¾›å•†ã€æ¨¡åž‹ã€æ–¹æ³•å’Œæ—¥æœŸè¿½è¸ª token ä½¿ç”¨é‡
- ç›‘æŽ§ç¼“å­˜æ•ˆçŽ‡å’Œæˆæœ¬èŠ‚çœ
- ä½¿ç”¨ `llmsh stats` æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯

### æ€§èƒ½ä¼˜åŒ–
- **æ™ºèƒ½ç¼“å­˜**ï¼šå‡å°‘é‡å¤ä¸Šä¸‹æ–‡çš„ API è°ƒç”¨
- **å¿«é€Ÿå“åº”**ï¼šä½¿ç”¨ Go è¯­è¨€æž„å»ºï¼Œå¼€é”€æœ€å°
- **æ— å¹²æ‰°**ï¼šæ‰€æœ‰æ“ä½œé€šè¿‡æŒ‰é”®ç»‘å®šæŒ‰éœ€è¿è¡Œ

## å®‰è£…

### å‰ç½®è¦æ±‚

- **zsh**ï¼šä½ çš„ shell å¿…é¡»æ˜¯ zsh
- **jq**ï¼šç”¨äºŽ JSON å¤„ç†ï¼ˆå¦‚æžœä¸å­˜åœ¨ä¼šè‡ªåŠ¨å®‰è£…ï¼‰
- **curl**ï¼šç”¨äºŽä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆé€šå¸¸å·²é¢„è£…ï¼‰
- **å¯é€‰**ï¼š[zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions) ç”¨äºŽå¢žå¼ºæ˜¾ç¤º

### å¿«é€Ÿå®‰è£…

```bash
# ä¸‹è½½å¹¶è¿è¡Œå®‰è£…è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/LeslieLeung/llmsh/main/install.sh | bash
```

æˆ–è€…å¦‚æžœä½ æƒ³å…ˆæŸ¥çœ‹è„šæœ¬ï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/LeslieLeung/llmsh.git
cd llmsh

# è¿è¡Œå®‰è£…è„šæœ¬
./install.sh
```

å®‰è£…è„šæœ¬å°†ä¼šï¼š
- è‡ªåŠ¨æ£€æµ‹ä½ çš„æ“ä½œç³»ç»Ÿå’Œæž¶æž„
- ä»Ž GitHub releases ä¸‹è½½æœ€æ–°çš„äºŒè¿›åˆ¶æ–‡ä»¶
- å¦‚æžœå°šæœªå®‰è£…åˆ™å®‰è£… jq
- è®¾ç½® ZSH æ’ä»¶
- å°†æ’ä»¶æ·»åŠ åˆ°ä½ çš„ ~/.zshrc

### æ‰‹åŠ¨å®‰è£…

å¦‚æžœä½ æ›´å–œæ¬¢ä»Žæºç æž„å»ºï¼š

```bash
# å®‰è£…ä¾èµ–å¹¶æž„å»º
make deps
make build

# å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶å’Œæ’ä»¶
make install
```

**æ³¨æ„**ï¼šä»Žæºç æž„å»ºéœ€è¦ Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

### é…ç½®è®¾ç½®

1. **åˆå§‹åŒ–é…ç½®**ï¼š
   ```bash
   llmsh config init
   ```

2. **è®¾ç½®ä½ çš„ API å¯†é’¥**ï¼š
   ```bash
   # æ–¹å¼ 1ï¼šçŽ¯å¢ƒå˜é‡
   export OPENAI_API_KEY="your-api-key"

   # æ–¹å¼ 2ï¼šç¼–è¾‘é…ç½®æ–‡ä»¶
   # ç¼–è¾‘ ~/.llmsh/config.yaml å¹¶è®¾ç½®ä½ çš„ API å¯†é’¥
   ```

3. **åŠ è½½æ’ä»¶**ï¼ˆå¦‚æžœå°šæœªæ·»åŠ ï¼‰ï¼š
   ```bash
   # æ·»åŠ åˆ° ~/.zshrc
   echo 'source ~/.llmsh/llmsh.plugin.zsh' >> ~/.zshrc

   # é‡æ–°åŠ è½½ shell
   source ~/.zshrc
   ```

> [!TIP]
> å‡ºäºŽéšç§ã€æˆæœ¬å’Œæ€§èƒ½è€ƒè™‘ï¼Œä½ å¯ä»¥ä½¿ç”¨éžå¸¸å°çš„æ¨¡åž‹ï¼ˆå¦‚ `qwen/qwen3-4b-2507`ï¼‰æœ¬åœ°ä½¿ç”¨ [LM Studio](https://lmstudio.ai/)ã€‚
> å®ƒåœ¨ M1 Pro 16GB RAM ä¸Šæ•ˆæžœè‰¯å¥½ï¼ˆ<1s å»¶è¿Ÿå’Œå‡ ä¹Žå®Œç¾Žçš„å‡†ç¡®æ€§ï¼‰ã€‚

## å¿«é€Ÿå¼€å§‹

### è‡ªç„¶è¯­è¨€è½¬æ¢

è¾“å…¥ä½ æƒ³åšä»€ä¹ˆçš„æè¿°ï¼Œç„¶åŽæŒ‰ **Alt+Enter**ï¼š

```bash
$ æŸ¥æ‰¾æ‰€æœ‰å¤§äºŽ1MBçš„jpgæ–‡ä»¶
# æŒ‰ Alt+Enter
$ find . -type f -name "*.jpg" -size +1M
```

### æ™ºèƒ½è¡¥å…¨/é¢„æµ‹

æŒ‰ **Ctrl+O** è¿›è¡Œæ™ºèƒ½è¡¥å…¨æˆ–é¢„æµ‹ï¼š

**ç©ºç¼“å†²åŒºæ—¶**ï¼ˆé¢„æµ‹ä¸‹ä¸€æ¡å‘½ä»¤ï¼‰ï¼š
```bash
$ git add .
$ git commit -m "update docs"
# åœ¨ç©ºè¡ŒæŒ‰ Ctrl+O
$ git push
```

**ç¼“å†²åŒºæœ‰æ–‡æœ¬æ—¶**ï¼ˆè¡¥å…¨å½“å‰å‘½ä»¤ï¼‰ï¼š
```bash
$ git co
# æŒ‰ Ctrl+O
$ git checkout main
```

## å¸è½½

```bash
# ä½¿ç”¨å®‰è£…è„šæœ¬
./install.sh uninstall

# æˆ–æ‰‹åŠ¨å¸è½½
make uninstall
rm -rf ~/.llmsh  # åˆ é™¤æ‰€æœ‰æ•°æ®
# ä»Ž ~/.zshrc ä¸­ç§»é™¤ "source ~/.llmsh/llmsh.plugin.zsh"
```

## è‡´è°¢

- [zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions)
- [zsh-copilot](https://github.com/Myzel394/zsh-copilot)
- [smart-suggestion](https://github.com/yetone/smart-suggestion)
